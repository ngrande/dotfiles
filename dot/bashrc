#
# ~/.bashrc
#

# prevent history commands from executing by ! or !! but wait for execution by user
shopt -s histverify

# greeting
archey3
# notify user if restart necessary
bold=$(tput bold)
normal=$(tput sgr0)
installed=$(pacman -Q linux | awk '{print $2}')
active=$(uname -r | awk -F - '{print $1"-"$2}')

if [ $active != $installed ]; then
	echo "${bold}you have a newer kernel version installed ($installed) - please restart your machine${normal}"
fi

# after greeting include additional file with commands (won't be commited)
if [ -f $HOME/.bashrc_ext ]; then
	. $HOME/.bashrc_ext
fi

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

# ls
alias ls='ls -hrt --color=auto'
alias ll='ls -alhrt --color=auto'

# pacman and yaourt
alias paorph='sudo pacman -Rns $(pacman -Qdtq)'
alias paup='sudo pacman -Syu'
alias aurup='pacaur -Syu'
alias aurorph='pacaur -Rns $(pacaur -Qdtq)'

# btrfs
#alias buh='sudo btrfs filesystem usage /home'
alias buh='sudo echo ""; echo "root usage"; sudo btrfs filesystem usage /home | grep -E "^\s+(Used|Free \(estimated\)):";echo ""'
#alias bur='sudo btrfs filesystem usage /'
alias bur='sudo echo ""; echo "root usage"; sudo btrfs filesystem usage / | grep -E "^\s+(Used|Free \(estimated\)):";echo ""'

# shell prompt
COLOR="\[\033[1;36m\]"
NO_COLOR="\[\033[0m\]"
PS1=' \u@\h \W >> '

export HISTTIMEFORMAT="[%Y-%m-%d %T] "
export HISTCONTROL=erasedups
export HISTSIZE=10000

# add my scripts to PATH
PATH=$PATH:$HOME/projects/scripts
