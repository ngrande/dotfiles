#
# ~/.bashrc
#

# If not running interactively, don't do anything
[[ $- != *i* ]] && return
# see also: https://unix.stackexchange.com/questions/257571/why-does-bashrc-check-whether-the-current-shell-is-interactive#257613

# prevent history commands from executing by ! or !! but wait for execution by user
shopt -s histverify

# greeting
archey3
# notify user if restart necessary
bold=$(tput bold)
normal=$(tput sgr0)
installed=$(pacman -Q linux | awk '{print $2}')
active=$(uname -r | awk -F - '{print $1"-"$2}')

if [ $active != $installed ]; then
	echo "${bold}you have a newer kernel version installed ($installed) - please restart your machine${normal}"
fi

# after greeting include additional file with commands (won't be commited)
if [ -f $HOME/.bashrc_ext ]; then
	. $HOME/.bashrc_ext
fi

# alias's
alias dir='dir --color=auto'
alias vdir='vdir --color=auto'
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'
alias ls='ls -hrt --color=auto'

alias ll='ls -al'

export GCC_COLORS='error=01;31:warning=01;35:note=01;36:caret=01;32:locus=01:quote=01'

# pacman and aur helper
alias paorph='aurman -Rns $(aurman -Qdtq)'
alias paup='aurman -Syu'

# btrfs
#alias buh='sudo btrfs filesystem usage /home'
alias buh='sudo echo ""; echo "/home usage"; sudo btrfs filesystem usage /home | grep -E "^\s+(Used|Free \(estimated\)):";echo ""'
#alias bur='sudo btrfs filesystem usage /'
alias bur='sudo echo ""; echo "/ usage"; sudo btrfs filesystem usage / | grep -E "^\s+(Used|Free \(estimated\)):";echo ""'

# shell prompt
COLOR="\[\033[1;36m\]"
NO_COLOR="\[\033[0m\]"
PS1='\u@\h \W >> '

export HISTTIMEFORMAT="[%Y-%m-%d %T] "
export HISTCONTROL=erasedups
export HISTSIZE=10000

# add my scripts to PATH
PATH=$PATH:$HOME/projects/scripts
PATH=$PATH:$HOME/.local/bin
